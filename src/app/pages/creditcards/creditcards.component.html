<section class="registration-container">
  <div class="flex flex-col w-full gap-2">
    <div class="flex w-full justify-between items-center mb-4">
      <h2 class="text-2xl font-bold text-slate-700 tracking-wide">
        Cartões de Crédito
      </h2>

      <button
        (click)="openCreditCardDialog()"
        class="flex items-center gap-2 bg-teal-200 rounded-lg px-2 py-1"
      >
        <span
          aria-label="sinal de mais"
          class="material-symbols-outlined text-xl text-teal-700"
        >
          add_circle
        </span>
        <p class="text-sm text-teal-700">Adicionar Cartão</p>
      </button>
    </div>

    <ul class="flex flex-col gap-4">
      @if(($creditCards | async)?.length == 0) {
        <div class="flex w-full items-center min-h-32">
          <p class="text-center w-full text-slate-700">
            Não foi cadastrado nenhum cartão.
          </p>
        </div>
      }
      @for(creditcard of $creditCards | async; track creditcard) {
      <li
        class="w-full rounded-lg shadow-sm px-2 hover:bg-slate-100 transition-all duration-150"
      >
        <a [routerLink]="[creditcard.id]" aria-label="Abrir cartão de crédito" class="cursor-pointer w-full py-4 gap-2 flex justify-between items-center ">
          <!-- ICONE + NAME -->
          <div class="flex items-center gap-2 w-8/12">
            <!-- ICONE -->
            <div
              class="text-white bg-slate-500 rounded-md w-16 h-10 flex items-center justify-center p-2"
            >
              <span class="material-symbols-outlined text-xl">
                credit_card
              </span>
            </div>

            <!-- NOME DO CARTÃO -->
            <h3 class="text-sm text-slate-600 font-medium">
              {{ creditcard?.description }} -
              {{ creditcard?.account?.bank }}
            </h3>
          </div>

          <!-- CREDITO VALORES -->
          <div class="flex flex-col w-4/12">
            <!-- CREDITO USADA -->
            <div class="flex items-center gap-2 text-xs justify-between">
              <p class="text-slate-700">Credito Usado</p>
              <p class="font-medium text-red-600">
                {{ creditcard.usedLimit | currency : "BRL" : "symbol" }}
              </p>
            </div>

            <!-- CREDITO DISPONÍVEL -->
            <div class="flex items-center gap-2 text-xs justify-between">
              <p class="text-slate-700">Credito Disponível</p>
              <p class="font-medium text-green-600">
                {{
                  creditcard.totalLimit - creditcard.usedLimit
                    | currency : "BRL" : "symbol"
                }}
              </p>
            </div>
          </div>
        </a>
      </li>
      }
    </ul>
  </div>
</section>
